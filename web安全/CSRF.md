## CSRF 跨站请求伪造

CSRF 攻击利用网站对于网页浏览器的信任，劫持用户已登录的 web 应用程序，去执行恶意的操作

登陆了之后，服务器端就很难去分辨是否为该用户的操作
角色：

1. 正常浏览网页的用户：User
2. 正规的但是具有漏洞的网站：WebA
3. 利用 CSRF 进行攻击的网站：WebB

流程：

1. User 登陆并信任 WebA，同时 WebA 通过用户的验证并正在服务端生成 token，并返回给客户端
2. WebB 通过在 WebA 中添加图片链接等方式诱导 User 访问 WebB
3. 当用户被诱导进入 WebB，WebB 会利用 User 的浏览器并携带之前生成的 token 去访问第三方网站 WebA,从而达到模拟用户操作

QQ 邮箱也存在 CSRF 攻击，我们经常收到一些很奇怪的邮件，里面是一张很奇怪的图片，点击邮件加载图片，实际是访问了黑客的邮箱，因此目标邮箱中的所有邮件都被转发到黑客指定的邮箱
只需构造正确的 Get 链接，让浏览器发送 Get 请求。由于用户已经登录，因此它将携带正确的 cookie 并直接访问链接以实现相关功能。

解决方案：

1. 向表单添加字段标记。黑客无法猜出已经改变的令牌，所以即使你添加一个 UUID 令牌，将它保存到服务器会话，黑客也不可能猜出随机令牌，就无法构造出能实现功能的链接了
