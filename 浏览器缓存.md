## cookie、sessionStorage、localStorage 的区别

1. cookie 存储在浏览器，并伴随着浏览器请求一起发送到服务端，大小 4k，有过期期限
2. sessionStorage 存储在客户端，属于 webStorage，大小 8m，sessionStorage 在一个会话期间内存活，关闭浏览器的会话就会自动消失
3. localStorage 也存储在客户端，属于 webStorage、大小 8m，localStorage 是持久化存储在客户端，如果用户不手动清除浏览器缓存，localStorage 就不会消失

## cookie 和 session 的区别

1. cookie 存放在客户的浏览器中，session 存放在服务器
2. cookie 不安全，别人可以分析存放在本地的 cookie 并进行 cookie 欺骗，考虑到安全应该使用 session
3. session 会在一定时间内保存在服务器上，当访问增多时，会比较占用服务器性能，考虑到减轻服务器的性能，应该使用 cookie
4. 单个 cookie 保存的数据大小不能超过 4k，很多浏览器都限制一个站点最多保存 20 个 cookie

## UserData

UserData 是 IE 浏览器下的输出存储方式

### 缺点

1. 对 HTML5 支持性不好
2. 只适用于 IE 浏览器
3. UserData 将数据以 XML 的方式存储在客户端，XML 存储性能消耗较大

### 优点

1. 数据存储大小比 cookie 大，但也没多大，UserData 允许每个文档最多存 128kb 的数据，每个域名最多存 1mb 的 数据

## indexedDB

indexedDB 是浏览器提供的本地数据库，indexedDB 允许存储大量数据，indexedDB 不属于关系型数据库，更接近非关系型数据库

### 特点：

1. 键值对存储
2. 异步
3. 支持事务处理
4. 同源限制（不能跨域）
5. 存储空间大
6. 支持二进制存储

## 浏览器缓存的优缺点

### 优点

1. 提升页面加载速度

### 缺点

1. 从后端获取到的数据不能及时更新到缓存

## 多个页面如何进行通信

使用 cookie，使用 localStorage、sessionStorage，使用 web worker

## 什么是 web worker？

web worker 是 html5 提出的，允许 JavaScript 创建多个线程，但是新创建的这些线程作为子线程并完全受主线程的控制，并且不得操作 dom，本质上还是单线程，于是，我们就可以把一些费事的任务交给 web worker 创建的子线程在后台完成，而前台页面依然可以处理用户的响应

## 同源策略

协议、域名、端口号相同

## 非同源受到的限制

1. 不能读取 cookie （如我在自己的站点无法读取博客园用户的 cookie）
2. dom 无法获得
3. ajax 请求不能发送

## 什么是跨域？

域 A 去访问域 B 的资源
由于同源策略的限制，XmlHttpRequest 只允许请求当前源（域名、协议、端口）的资源。

### jsonp 跨域（json with padding）

原理：动态添加一个<script>标签，而<script>标签的 src 属性是没有跨域限制的，这样一来，这种跨域方式就与 XmlHttpRequest 无关
如果要进行跨域请求，我们可以通过使用 html 的<script>标记进行跨域请求，并在响应中执行返回的 script 代码，其中可以使用 json 传递 JavaScript 对象，这种方式成为 jsonp

###
