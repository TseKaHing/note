## OSI 七层模型

1. 应用层
   针对特定应用规定各层协议时序表示等进行封装，如 http
   （ Telnet，FTP,SMTP,SNMP ） 报文 SSH（安全外壳协议）为应用层基础上的安全协议
2. 表示层
   数据格式转换
3. 会话层
   规定通信时序，创建检查点
4. 运输层
   发送可靠数据
   （TCP,UDP,,UGP）数据报
5. 网络层
   路由寻址，拥塞控制，分组交换
   （IP,ICMP,IGMP）
6. 数据链路层
   CRC 纠错
   （ARP,RARP）帧
7. 物理层
   机械特性，电气特性
   字节流

## TCP 和 UDP 区别

1. TCP 可以超时重传，UDP 不可以
2. TCP 可以进行可靠传输，UDP 不可以
3. TCP 提供流量控制，UDP 不提供
4. TCP 面向连接，字节流服务，UDP 面向报文
5. TCP 传输速度较 UDP 慢
6. TCP 连接较 UDP 安全可靠，UDP 可能会丢包
7. TCP 首部（20Byte），只能一对一传输，UDP 首部（8Byte），支持一对一传输，可支持一对多传输

## HTTP 1.0 1.1 2.0

影响网络的主要因素：带宽、延迟（最重要因素）

### HTTP 1.0

浏览器每次请求都要建立一个 TCP 连接，服务器完成请求后立即断开 TCP 连接
客户端根据域名来向服务器建立连接，一般 PC 端浏览器会针对单个域名的 server 同时建立 6-8 个连接，手机端 4-6 个

1. 不支持持久性连接,只支持短暂性连接
2. 连接无法复用，线头阻塞
3. 上一次请求和下一次请求完全分离
4. 连接建立和断开非常耗时，严重影响服务器性能
5. HTTP 1.0 需要使用 keep-alive 参数来告知服务器要建立一个长连接

### HTTP 1.1

HTTP 1.1 支持持久性连接，在一个 TCP 连接上可以传送多个 HTTP 请求和 响应，减少了 TCP 连接和断开的性能消耗

1. 支持持久性连接，一个 TCP 连接上可以传送多个 HTTP 请求和响应
2. 增加 HOST 字段，可以表示访问服务器的 IP
3. 增加 Cache-Control 首部字段，缓存机制更加灵活强大
4. 增加 Content-Range 首部字段，实现带宽优化
5. 引入管道方式，支持多请求发送
6. 新增多种请求方式：OPTIONS、TRACE、CONNECT 等

### HTTP 2.0

HTTP 2.0 相比 HTTP 1.1 极大地提升了性能

1. HTTP 首部压缩
2. 支持服务端推送
3. 多路复用（多个请求可同时在一个连接上并行执行）
4. 采用二进制格式传输数据

## http 和 https 的区别

（ssl 证书是 ca 证书的一种，ca 是数字证书管理机构）

1. https = http + ssl
2. https 需要 ssl 证书，而 ssl 需要钱买，ssl 证书需要绑定 IP，一个 IP 绑定一个域名，IPV4 资源支持不了这种消耗
3. http 端口号 80，https 端口号 443
4. http 明文传输，无状态（协议对事物处理没有记忆能力），无连接（每次连接只处理一个请求）
5. https 握手更费事，也更耗电
6. https 缓存不如 http 高效，https 会增加数据开销

## 在浏览器地址输入 url 到显示页面这个过程发生了什么？

1. 判断是否有地址重定向（301）
2. 浏览器解析 url，获取协议，域名, 端口号，路径等
3. DNS 解析（查缓存）
4. TCP 三次握手
5. TCP 连接后发送 HTTP 请求
6. 服务端验证请求
7. 查询数据库等操作
8. 客户端接收 HTTP 响应
9. 获取 html，构建 DOM 树
10. 根据 CSS 等样式构建 render 树，此时的 render 树不包含定位和几何信息（重绘）
11. 构建布局树，布局树包含定位和几何信息（回流）
12. 解析 js
13. TCP 四次挥手

## websocket

1. websocket 是 HTML5 新增的协议，并支持持久性的连接，而 http 不支持持久性连接
2. http 中，一个 req,对于一个 res，res 是被动的，而 websocket 允许服务端主动想客户端推送数据
3. 在 websocket API 中，浏览器和服务器只需要完成一次握手，就可以创建持久性连接，并进行双向数据传输
